(function(a){function e(){var c=b+(new Date).getTime()+Math.round((new Date).getTime()*Math.random());var e=this;var f={container:{classesToAdd:"",width:"auto",height:"auto",style:{}},headers:{classesToAdd:"",classesToAddActive:"dlsldr-active",selector:"> dt",width:"auto",height:"auto",gapSize:0,clickable:true,draggable:true,preventClickEvent:true,preventDragEvent:true,style:{}},databoxes:{classesToAdd:"",classesToAddActive:"dlsldr-active",selector:"> dd",width:"auto",height:"auto",style:{}},animation:{delay:"",easing:"swing"}};var g={container:{classToAdd:"dlsldr-container",style:{overflow:"hidden",position:"relative"},styleBeforeScan:{}},headers:{classToAdd:"dlsldr-header",style:{position:"absolute",top:"0",left:"0"},styleBeforeScan:{"float":"left"}},databoxes:{classToAdd:"dlsldr-databox",style:{position:"absolute"},styleBeforeScan:{"float":"left"}}};var h=this.methods={"public":{},"private":{}};var i={$container:null,$headers:null,$databoxes:null};var j={headers:[],databoxes:[],pos:0,draggingHeader:{active:false,startEvent:null,initialPos:0,dragged:false},activated_setPos:false};var k=h.private.part2settingsName=function(a){var b={$container:"container",$headers:"headers",$databoxes:"databoxes"};return b[a]?b[a]:false};var l=h.private.settings2partsName=function(a){var b={container:"$container",headers:"$headers",databoxes:"$databoxes"};return b[a]?b[a]:false};var m=h.private.partsNameExists=function(a){return k(a)!=false};var n=h.private.settingsNameExists=function(a){return l(a)!=false};var o=h.private.setPartWidth=function(a,b){if(n(a)){var c=i[l(a)].outerWidth();var d=i[l(a)].width();var e=c-d;i[l(a)].width((g[a]._applied.width=b)-e)}};var p=h.private.getPartWidth=function(a){return n(a)?g[a]._applied.width:false};var q=h.private.setPartHeight=function(a,b){if(n(a)){var c=i[l(a)].outerHeight();var d=i[l(a)].height();var e=c-d;i[l(a)].height((g[a]._applied.height=b)-e)}};var r=h.private.getPartHeight=function(a){return n(a)?g[a]._applied.height:false};var s=h.private.setPartMaxWidth=function(a,b){if(n(a)){i[l(a)].maxWidth(g[a]._applied.size.maxWidth=b)}};var t=h.private.getPartMaxWidth=function(a){return n(a)?g[a]._applied.size.maxWidth:false};var u=h.private.setPartMaxHeight=function(a,b){if(n(a)){i[l(a)].maxHeight(g[a]._applied.size.maxHeight=b)}};var v=h.private.getPartMaxHeight=function(a){return n(a)?g[a]._applied.size.maxHeight:false};var w=h.private.setPartStyle=function(a,b){if(n(a)){y(a,b);g[a]._applied.style=z(a)}};var x=h.private.getPartStyle=function(a){return n(a)?g[a]._applied.style:false};var y=h.private.writePartStyle=function(a,b){if(n(a)){if("string"==typeof b){i[l(a)].attr("style",b)}else if("object"==typeof b){i[l(a)].css(b)}}};var z=h.private.readPartStyle=function(a){if(n(a)){var b=i[l(a)].attr("style")}return b?b:""};var A=h.private.savePartStyle=function(a){if(n(a)){g[a]._applied.style=z(a)}};var B=h.private.savePartStyle=function(a,b){if(n(a)){A(a);y(a,b)}};var C=h.private.restorePartStyle=function(a){if(n(a)){w(a,x(a))}};var D=h.private.setContainerWidth=function(a){o("container",a)};var E=h.private.getContainerWidth=function(){return p("container")};var F=h.private.setContainerHeight=function(a){q("container",a)};var G=h.private.getContainerHeight=function(){return r("container")};var H=h.private.setContainerStyle=function(a){w("container",a)};var I=h.private.getContainerStyle=function(){return x("container")};var J=h.private.writeContainerStyle=function(a){y("container",a)};var K=h.private.readContainerStyle=function(){return z("container")};var L=h.private.saveContainerStyle=function(){A("container")};var M=h.private.saveContainerStyle=function(a){B("container",a)};var N=h.private.restoreContainerStyle=function(){C("container")};var O=h.private.setHeadersWidth=function(a){o("headers",a)};var P=h.private.getHeadersWidth=function(){return p("headers")};var Q=h.private.setHeadersHeight=function(a){q("headers",a)};var R=h.private.getHeadersHeight=function(){return r("headers")};var S=h.private.setHeadersMaxWidth=function(a){s("headers",a)};var T=h.private.getHeadersMaxWidth=function(){return t("headers")};var U=h.private.setHeadersMaxHeight=function(a){u("headers",a)};var V=h.private.getHeadersMaxHeight=function(){return v("headers")};var W=h.private.setHeadersStyle=function(a){w("headers")};var X=h.private.getHeadersStyle=function(){return x("headers")};var Y=h.private.writeHeadersStyle=function(a){y("headers",a)};var Z=h.private.readHeadersStyle=function(){return z("headers")};var _=h.private.saveHeadersStyle=function(){A("headers")};var ab=h.private.saveHeadersStyle=function(a){B("headers",a)};var bb=h.private.restoreHeadersStyle=function(){C("headers")};var cb=h.private.setHeadersWidths=function(b){i.$headers.each(function(c){if("undefined"!=typeof b[c]){a(this).width(b[c])}});g.headers._applied.widths=b};var db=h.private.getHeadersWidths=function(a){if("undefined"==typeof a){return g.headers._applied.widths}else{return db()[a]}};var eb=h.private.setDataboxesWidth=function(a){o("databoxes",a)};var fb=h.private.getDataboxesWidth=function(){return p("databoxes")};var gb=h.private.setDataboxesHeight=function(a){q("databoxes",a)};var hb=h.private.getDataboxesHeight=function(){return r("databoxes")};var ib=h.private.setDataboxesMaxWidth=function(a){s("databoxes",a)};var jb=h.private.getDataboxesMaxWidth=function(){return t("databoxes")};var kb=h.private.setDataboxesMaxHeight=function(a){u("databoxes",a)};var lb=h.private.getDataboxesMaxHeight=function(){return v("databoxes")};var mb=h.private.setDataboxesStyle=function(a){w("databoxes",a)};var nb=h.private.getDataboxesStyle=function(){return x("databoxes")};var ob=h.private.writeDataboxesStyle=function(a){y("databoxes",a)};var pb=h.private.readDataboxesStyle=function(){return z("databoxes")};var qb=h.private.saveDataboxesStyle=function(){A("databoxes")};var rb=h.private.saveDataboxesStyle=function(a){B("databoxes",a)};var sb=h.private.restoreDataboxesStyle=function(){C("databoxes")};var tb=h.private.splitClassList=function(a){return a.split(/[^\w\d\.\-\_]+/)};var ub=h.private.px2number=function(a){if("number"==typeof a){return a}var b=a.replace(/^([+-]?\d+(?:\.\d+)?)px$/,"");var c=parseInt(b,10);if(c==b){return c}return false};var vb=h.private.scanParts=function(b,c){if(n(b)){var d=l(b);c=c?c:i[d];var e={count:c.size(),size:{minWidth:false,maxWidth:false,minHeight:false,maxHeight:false},items:[]};c.each(function(b){var c=a(this);var d=c.outerWidth();var f=c.outerHeight();if(false===e.size.minWidth||e.size.minWidth>d){e.size.minWidth=d}if(false===e.size.maxWidth||e.size.maxWidth<d){e.size.maxWidth=d}if(false===e.size.minHeight||e.size.minHeight>f){e.size.minHeight=f}if(false===e.size.maxHeight||e.size.maxHeight<f){e.size.maxHeight=f}e.items[b]={size:{width:d,height:f}}});return e}return false};var wb=h.private.findParts=function(c){i.$container=c;i.$headers=a(g.headers.selector,i.$container);i.$databoxes=a(g.databoxes.selector,i.$container);for(var d in i){i[d].data(b,e)}};var xb=h.private.applyCssToParts=function(){var a=["container","headers","databoxes"];for(var b in a){var c=a[b];i[l(c)].css(g[c].style)}};var yb=h.private.applyClassesToParts=function(){var a=["container","headers","databoxes"];for(var b in a){var c=a[b];var d=l(c);var e=tb(g[c].classesToAdd).join(" ");i[d].addClass(e+" "+g[c].classToAdd)}};var zb=h.private.initializeSettings=function(b){var c=["container","headers","databoxes"];g=a.extend(true,{},f,b,g);for(var d in c){var e=c[d];g[e]._applied={classesToAdd:null,style:null,width:null,height:null,size:null};if("container"!=e){g[e]._applied["classesToAddActive"]=null}}};var Ab=h.private.scanalyzePart=function(b,c){if(n(b)){B(b,g[b].styleBeforeScan);var d=l(b);var e={classesToAdd:tb(g[b].classesToAdd),width:g[b].width,height:g[b].height,size:{width:i[d].outerWidth(),height:i[d].outerHeight()}};if("function"==typeof c){e=c.call(this,b,e)}a.extend(true,g[b]._applied,e);C(b)}};var Bb=h.private.processPartsResults=function(b,c){if(n(b)){var e=l(b);var f=vb(b);var h={count:f.count,classesToAddActive:tb(g[b].classesToAddActive),size:f.size};delete c.size.width;delete c.size.height;j[b]=f.items;i[e].each(function(c){var e={num:c,data:j[b][c]};a(this).data(d,e)});return a.extend(true,c,h)}};var Cb=h.private.applyContainerDimensions=function(a){var b=ub(g.container.width);if(false!==b){D(b)}else if(!a&&"auto"==g.container.width){D(Math.max(T(),jb()))}var b=ub(g.container.height);if(false!==b){F(b)}else if(!a&&"auto"==g.container.height){F(V()+lb())}};var Db=h.private.applyHeadersDimensions=function(a){var b=ub(g.headers.width);if(false!==b){O(b)}else if("max"==g.headers.width){O(T())}else if(!a&&"auto"==g.headers.width){var c=[];for(var d in j.headers){c.push(j.headers[d].size.width)}cb(c)}var b=ub(g.headers.height);if(false!==b){Q(b)}else if("max"==g.headers.height){Q(V())}else if(!a&&"auto"==g.headers.height){Q(V())}};var Eb=h.private.applyDataboxesDimensions=function(a){var b=ub(g.databoxes.width);if(false!==b){eb(b)}else if("max"==g.databoxes.width){eb(jb())}else if(!a&&"auto"==g.databoxes.width){eb(E())}var b=ub(g.databoxes.height);if(false!==b){gb(b)}else if("max"==g.databoxes.height){gb(lb())}else if(!a&&"auto"==g.databoxes.height){gb(G()-R())}};var Fb=h.private.applyDimensionsFinally=function(){Db(true);Eb(true);Cb();Db();Eb()};var Gb=h.private.positioningParts=function(){var b="headers";var c=l(b);i[c].each(function(c){var d=a(this);var e=j[b][c].size.width;d.css({top:0,left:E()*(c+.5)-e/2})});var b="databoxes";var c=l(b);i[c].each(function(c){var d=a(this);var e=j[b][c].size.width;d.css({top:R(),left:E()*c})})};var Hb=h.private.updateEventHandler=function(){if(g.headers.clickable){i.$headers.unbind("click"+b).bind("click"+b,Jb)}if(g.headers.draggable){i.$headers.unbind("mousedown"+b).bind("mousedown"+b,Kb);var d=a(document);d.unbind("mouseup"+c).bind("mouseup"+c,Lb);d.unbind("mousemove"+c).bind("mousemove"+c,Mb)}i.$container.unbind("scroll"+b).bind("scroll"+b,Ib)};var Ib=h.private.scrollContainer=function(b){Qb(a(this).scrollLeft())};var Jb=h.private.clickHeader=function(b){if(j.draggingHeader.dragged){return}var c=a(this).data(d);Rb(c.num,true);if(g.headers.preventClickEvent){b.stopPropagation();b.preventDefault();return false}};var Kb=h.private.startDragHeader=function(a){j.draggingHeader.active=true;j.draggingHeader.startEvent=a;j.draggingHeader.initialPos=Ob();j.draggingHeader.dragged=false;if(g.headers.preventDragEvent){a.stopPropagation();a.preventDefault();return false}};var Lb=h.private.documentMouseUp=function(a){if(j.draggingHeader.active){j.draggingHeader.active=false}};var Mb=h.private.documentMouseMove=function(a){if(j.draggingHeader.active){var b=j.draggingHeader.startEvent.screenX-a.screenX;if(0!=b){if(!j.draggingHeader.dragged){Kb(a)}j.draggingHeader.dragged=true;Pb()}Qb(j.draggingHeader.initialPos+b);if(g.headers.preventDragEvent){a.stopPropagation();a.preventDefault();return false}}};var Nb=h.public.init=function(a){var b=this;zb(a);wb(b);xb();Ab("container");Cb(true);Ab("headers",Bb);Ab("databoxes",Bb);yb();xb();Fb();Gb();Hb();Rb(0);return b};var Ob=h.public.getPos=function(){return j.pos};var Pb=h.public.stop=function(){i.$container.stop()};var Qb=h.public.setPos=function(a,b,c,d){if(j.activated_setPos||"number"!=typeof a){return}b="boolean"!=typeof b?false:b;if(b){d="string"!=typeof d?g.animation.easing:d;c="number"!=typeof c&&"string"!=typeof c?g.animation.delay:c;Pb();i.$container.animate({scrollLeft:a},c,d);return}var e=0;var f=E()*(j.headers.length-1);a=Math.min(f,Math.max(e,a));j.activated_setPos=true;j.pos=a;var h=a+E();var k=Math.round(a/E());k=0<=k&&j.headers.length>k?k:false;var l=false!==k&&0<=k&&j.headers.length-1>k?k+1:false;var m=false!==k&&0<k&&j.headers.length>k?k-1:false;var n={active:false!==k?i.$headers.eq(k):false,prev:false!==m?i.$headers.eq(m):false,next:false!==l?i.$headers.eq(l):false};var o={active:false!==k?j.headers[k].size.width:0,prev:false!==m?j.headers[m].size.width:0,next:false!==l?j.headers[l].size.width:0};var p={active:{$:false,width:0,pos:false,min:false,max:false,deltamin:false,deltamax:false},prev:{$:false,width:0,pos:false,min:false,max:false,deltamin:false,deltamax:false},next:{$:false,width:0,pos:false,min:false,max:false,deltamin:false,deltamax:false}};if(false!==k){p.active.$=i.$headers.eq(k);p.active.width=j.headers[k].size.width;p.active.pos=E()*(k+.5);p.active.min=p.active.pos-o.active/2;p.active.max=p.active.pos+o.active/2;p.active.deltamin=a-p.active.min;p.active.deltamax=p.active.max-h}if(false!==m){p.prev.$=i.$headers.eq(m);p.prev.width=j.headers[m].size.width;p.prev.pos=E()*(m+.5);p.prev.min=p.prev.pos-o.prev/2;p.prev.max=p.prev.pos+o.prev/2;p.prev.deltamin=a-p.prev.min;p.prev.deltamax=p.prev.max-h}if(false!==l){p.next.$=i.$headers.eq(l);p.next.width=j.headers[l].size.width;p.next.pos=E()*(l+.5);p.next.min=p.next.pos-o.next/2;p.next.max=p.next.pos+o.next/2;p.next.deltamin=a-p.next.min;p.next.deltamax=p.next.max-h}var q=p.active.pos;if(0<p.active.deltamin||0<p.active.deltamax){if(0<p.active.deltamin){var r=(p.active.width+p.next.width+g.headers.gapSize-E())/2;var s=0<r?p.active.deltamin<r?0:p.active.deltamin-r:p.active.deltamin;q=p.active.pos+s}else if(0<p.active.deltamax){var r=(p.active.width+p.prev.width+g.headers.gapSize-E())/2;var s=0<r?p.active.deltamax<r?0:p.active.deltamax-r:p.active.deltamax;q=p.active.pos-s}}var t=h-(q+p.active.width/2)-g.headers.gapSize;var u=q-p.active.width/2-a-g.headers.gapSize;var v=p.next.pos;if(0<p.next.deltamax){var s=p.next.deltamax-(t<p.next.width?p.next.width-t:0);v=p.next.pos-s}var w=p.prev.pos;if(0<p.prev.deltamin){var s=p.prev.deltamin-(u<p.prev.width?p.prev.width-u:0);w=p.prev.pos+s}if(p.active.$){p.active.$.css({left:q-p.active.width/2})}if(p.next.$){p.next.$.css({left:v-p.next.width/2})}if(p.prev.$){p.prev.$.css({left:w-p.prev.width/2})}i.$container.scrollLeft(a);var x=i.$headers.not(p.active.$);var y=g.headers._applied.classesToAddActive.join(" ");x.removeClass(y);p.active.$.addClass(y);j.activated_setPos=false};var Rb=h.public.goTo=function(a,b,c,d){if("number"!=typeof a){return}Qb(E()*a,b,c,d)};var Sb=h.public.getDefaultOptions=function(){return f};var Tb=h.public.getSettings=function(){return g}}var b=".dlsldr";var c="dlsldr";var d=b+".data";a.fn.dlsldr=function(c){var d=this;var f=null;var g=arguments;d.each(function(){var d=a(this);var h=d.data(b);if("undefined"==typeof h){h=new e;d.data(b,h)}if(h.methods.public[c]){var i=h.methods.public[c].apply(d,Array.prototype.slice.call(g,1));f=null!==f?f:i}else if("object"==typeof c||!c){var i=h.methods.public.init.apply(d,g);f=null!==f?f:i}else{a.error("Method "+c+" does not exist on jQuery.dlsldr")}});return f}})(jQuery)